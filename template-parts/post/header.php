<?php
/**
 * Header Single
 */

$region = get_the_terms( get_the_ID(  ), 'region' ); 
$continents = get_the_terms( get_the_ID(  ), 'continents' );
$separate = ' / ';
?>

<header class="post-header overflow-hidden h-[660px] relative md:h-[800px]">
    <div class="crop-overlay"></div>
    <? the_post_thumbnail( 'full', ['class' => 'z-1', 'title' => 'Feature image'] ); ?>

    <div class="relative z-[15] flex flex-col items-center justify-center h-full px-[24px] max-w-[620px] mx-auto px-4 gap-2">
        <? if ( $region || $continents  ) : ?>
            <div class="">
                <span class="text-sm leading-[32px] text-[#E0E0E0] text-center md:text-base">
                    <?php 
                    if ( $continents ) :
                        _e( join( $separate, wp_list_pluck( $continents, 'name' ) ) ); 
                    endif;
                    
                    if ( $region ) :
                        _e( $separate );
                        _e( join( $separate, wp_list_pluck( $region, 'name' ) ) ); 
                    endif;
                    ?>
                </span>
            </div>
        <?php endif; ?>
        <h1 class="h1-shadow text-[44px] leading-[60px] md:text-[64px] md:leading-[80px] text-white uppercase text-center"><? the_title( ); ?></h1>
        <span class="text-base leading-[32px] text-[#E0E0E0] text-center lowercase"><?= __( get_the_date( "d \d\E F, Y" ) ); ?></span>

        <svg class="mt-[40px]" width="40" height="72" viewBox="0 0 40 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 25.5L20 46.5M20 46.5L25.25 41.25M20 46.5L14.75 41.25" stroke="#E2E700" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="0.75" y="0.75" width="38.5" height="70.5" rx="19.25" stroke="#E2E700" stroke-width="1.5"/>
        </svg>
    </div>

    <div class="absolute z-20 bottom-0">
        <svg width="1440" height="133" viewBox="0 0 1440 133" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M1440 82V81.3221H1436.1C1433.96 81.3221 1428.92 80.1864 1424.91 78.7999C1420.89 77.4123 1414.9 75.9472 1411.6 75.5446C1408.3 75.1431 1402.52 73.3658 1398.76 71.5971C1395 69.8295 1388.99 67.6174 1385.39 66.6841C1381.77 65.7411 1376.87 63.2307 1374.38 61.0433C1367.77 55.2206 1365.48 54.3066 1359.35 55.0526C1354.4 55.6565 1353.17 55.1851 1344.78 49.4614C1339.73 46.0231 1335.6 42.841 1335.6 42.39C1335.6 41.9389 1332.9 40.3759 1329.59 38.9161C1324.77 36.7869 1322.99 36.5016 1320.61 37.4705C1318.07 38.4974 1315.88 37.6104 1305.95 31.5239C1291.57 22.7108 1285 21.1929 1271.9 23.6667C1266.02 24.7776 1260.24 26.9855 1254.59 30.2838L1246.12 35.2335L1233.81 31.9039C1227.04 30.0728 1219.39 28.5851 1216.82 28.5981C1209.33 28.6357 1199.52 32.2162 1190.67 38.139C1181.51 44.276 1180.36 44.3394 1169.07 39.337C1165.42 37.7212 1158.39 35.0698 1153.43 33.4443L1144.43 30.4884L1139.72 34.1064C1132.84 39.3973 1126.49 46.5667 1125.28 50.4248C1123.65 55.5952 1117.92 56.0236 1080.14 53.7996C1070.82 53.2517 1070.71 53.2796 1063.51 58.0204C1052.71 65.1382 1039.41 66.8789 1021.56 63.5095C1013.65 62.0154 1012.12 62.0121 1006.71 63.4804C1003.4 64.3804 998.56 66.0985 995.966 67.2987C989.915 70.0986 983.603 70.0695 977.43 67.2136C973.818 65.544 971.135 65.121 967.231 65.6075C944.947 68.3859 939.69 67.402 918.422 56.4628C910.454 52.3657 899.089 47.3612 893.165 45.3439C873.971 38.8074 847.018 35.7922 842.629 39.6901C839.767 42.2338 839.315 42.0659 834.444 36.6674C828.888 30.5099 826.257 29.6595 813.388 29.8683C804.882 30.0072 801.188 29.484 794.209 27.1545C788.401 25.2147 782.964 24.2663 777.638 24.2609C768.756 24.2534 765.424 23.023 753.526 15.3616C743.746 9.06311 737.744 8.62067 728.285 13.5036C724.845 15.2798 721.531 16.733 720.923 16.733C720.313 16.733 717.289 15.522 714.2 14.0419C707.166 10.6704 706.223 10.6843 704.177 14.1818C702.543 16.9709 702.331 17.0054 689.738 16.4801C674.487 15.8439 668.551 16.9764 665.224 21.1553C663.273 23.6042 661.606 24.2716 657.402 24.2845C654.464 24.2932 648.93 25.0079 645.103 25.8745C639.476 27.148 636.382 27.218 628.896 26.2416C620.173 25.1038 619.404 25.1781 615.518 27.5507C611.879 29.7704 611.104 29.8801 608.946 28.4775C607.599 27.6034 604.818 24.7239 602.765 22.08C598.114 16.0872 594.006 15.5059 587.497 19.9194C582.141 23.5515 575.11 24.2534 571.6 21.5062C567.756 18.4974 559.905 16.4887 554.654 17.1701C551.916 17.5264 548.746 17.3165 547.609 16.704C546.236 15.9623 542.295 15.9204 535.844 16.5781C528.318 17.3445 525.411 17.2314 522.866 16.0731C521.061 15.2518 518.118 14.5801 516.327 14.5801C509.962 14.5801 502.121 10.0276 501.031 5.69904C500.47 3.47931 499.493 1.66229 498.856 1.66229C498.222 1.66229 495.587 4.4729 493.004 7.90796C488.544 13.8383 482.107 17.4844 478.59 16.0721C477.767 15.7416 476.05 16.0334 474.776 16.7202C472.905 17.7299 471.791 17.1195 468.983 13.5413L465.504 9.11255L460.699 11.3366C458.054 12.5595 455.405 14.5564 454.81 15.7761C454.011 17.4091 452.773 17.8364 450.102 17.4005C447.616 16.9957 445.838 17.4747 444.445 18.9247C443.326 20.0873 441.301 21.039 439.944 21.039C438.589 21.039 434.588 22.7345 431.059 24.8067C427.528 26.8789 424.112 28.5744 423.469 28.5744C422.826 28.5744 420.13 29.9835 417.477 31.707C414.524 33.6252 410.072 35.1226 405.984 35.5715C398.615 36.3799 396.041 38.4512 396.041 43.5731C396.041 45.9586 394.227 48.0867 389.484 51.2612C385.879 53.6747 382.45 56.6297 381.863 57.8278C380.984 59.6288 379.897 59.8839 375.578 59.2994C360.916 57.3176 358.29 57.3563 357.209 59.5696C354.958 64.1791 348.492 67.3278 341.278 67.3278C337.502 67.3278 330.569 68.0469 325.871 68.9264C321.173 69.8059 315.126 70.4108 312.432 70.2719C308.614 70.0749 307.071 70.6283 305.447 72.777C304.301 74.2938 301.286 76.2098 298.748 77.0333C296.207 77.8579 292.547 79.4296 290.612 80.5255C287.278 82.4147 286.343 82.4341 272.775 80.8947C260.638 79.519 256.146 78.3628 243.282 73.3001C234.935 70.0147 226.67 67.3278 224.913 67.3278C223.159 67.3278 213.503 65.5538 203.454 63.3857L185.187 59.4437L177.74 62.0401C170.425 64.5914 170.261 64.6 168.415 62.5256C165.244 58.9614 157.815 54.41 155.169 54.41C153.566 54.41 152.474 55.6426 152.141 57.8257C151.328 63.1769 148.366 62.5213 145.326 56.3154C141.185 47.8639 136.696 43.6451 131.845 43.6451C128.057 43.6451 127.724 44.0768 127.264 49.5787C126.99 52.8415 126.085 55.6264 125.255 55.7685C124.423 55.9095 121.441 52.3615 118.627 47.8833C107.713 30.5186 98.6707 24.2684 84.4579 24.2684C80.2953 24.2684 75.9936 23.6871 74.8999 22.9767C73.6389 22.1575 72.9114 18.0334 72.9114 11.7112C72.9114 2.96478 72.5187 1.60083 69.7165 0.627686C62.4851 -1.88696 56.9935 3.18555 52.2924 16.7202C48.4347 27.8262 45.916 30.7855 37.3141 34.3131C31.685 36.6222 29.4761 38.3424 28.2051 41.4082C26.2564 46.1092 22.4153 48.6798 16.5708 49.1987C12.7164 49.5399 12.3701 50.0718 11.5995 56.8138C10.8688 63.2017 10.133 64.4752 5.3855 67.5571L0 71.0546V82H1440Z" fill="white"/>
            <rect y="82" width="1440" height="51" fill="white"/>
        </svg>
    </div>
</header>